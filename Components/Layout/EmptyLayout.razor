@inherits LayoutComponentBase
@using Mero_Dainiki.Services
@inject IThemeService ThemeService
@inject IJSRuntime JS

<div class="empty-layout">
    @Body
</div>

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await ThemeService.InitializeThemeAsync();
            ThemeService.OnThemeChanged += StateHasChanged;
        }
    }

    public void Dispose()
    {
        ThemeService.OnThemeChanged -= StateHasChanged;
    }
}

<style>
    :global(html), :global(body) {
        margin: 0 !important;
        padding: 0 !important;
        width: 100% !important;
        height: 100vh !important;
        height: 100dvh !important; /* Use dynamic viewport height for mobile browsers */
        overflow: hidden !important;
        position: fixed !important;
        touch-action: none; /* Disable touch-based scrolling */
    }

    .empty-layout {
        height: 100vh;
        height: 100dvh;
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%);
        transition: background 0.3s ease;
        padding: 1rem;
        box-sizing: border-box;
        overflow: hidden !important;
        position: fixed;
        top: 0;
        left: 0;
    }

    /* No dark override here; handled by global CSS for login/register */
</style>

<style>
@@media (max-width: 576px) {
    .empty-layout {
        padding: 0.5rem;
    }
}
</style>
